<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡ßÅ‡¶ï‡¶ø‡¶Ç</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header p {
            font-size: 18px;
            margin: 5px 0;
        }

        .content {
            padding: 40px;
        }

        .info-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .info-section h2 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 22px;
        }

        .info-section p {
            color: #555;
            font-size: 16px;
            line-height: 1.6;
        }

        .slots-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .slot {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .slot:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .slot.booked {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            cursor: not-allowed;
            opacity: 0.7;
        }

        .slot.booked:hover {
            transform: none;
        }

        .slot.selected {
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .slot-time {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .slot-status {
            font-size: 14px;
            opacity: 0.9;
        }

        .booking-form {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin-top: 30px;
            display: none;
        }

        .booking-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            font-weight: bold;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .success-message {
            background: #2ecc71;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
            text-align: center;
        }

        .success-message.active {
            display: block;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #667eea;
        }

        .loading.active {
            display: block;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 22px;
            }

            .slots-container {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }

            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‡¶¨‡¶ñ‡¶§‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞‡¶™‡¶æ‡¶°‡¶º‡¶æ ‡¶∂‡¶§‡¶æ‡¶¨‡ßç‡¶¶‡ßÄ ‡¶™‡¶≤‡ßç‡¶≤‡ßÄ ‡¶ä‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶® ‡¶∏‡¶Æ‡¶¨‡¶æ‡¶Ø‡¶º ‡¶∏‡¶Æ‡¶ø‡¶§‡¶ø</h1>
            <div style="margin: 15px 0; font-size: 20px;">
                <p style="margin: 5px 0;"><strong>‡¶°‡¶æ‡¶É ‡¶π‡ßÅ‡¶Æ‡¶æ‡¶Ø‡¶º‡ßÅ‡¶® ‡¶∞‡¶∂‡¶ø‡¶¶ (‡¶∂‡¶æ‡¶ï‡¶ø‡¶≤)</strong></p>
                <p style="margin: 5px 0; font-size: 16px;">‡¶è‡¶Æ‡¶¨‡¶ø‡¶¨‡¶ø‡¶è‡¶∏</p>
                <p style="margin: 5px 0; font-size: 16px;">‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶≤ ‡¶´‡¶ø‡¶ú‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶®</p>
                <p style="margin: 5px 0; font-size: 16px;">‡¶¨‡¶ø‡¶è‡¶Æ‡¶°‡¶ø‡¶∏‡¶ø ‡¶∞‡ßá‡¶ú‡¶ø ‡¶®‡¶Ç-‡ßß‡ß®‡ßß‡ß¨‡ßß‡ßß</p>
            </div>
            <p style="background: rgba(255,255,255,0.2); padding: 10px; border-radius: 5px; display: inline-block; margin: 10px 0;">üè• ‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶®‡¶æ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶®‡¶ø‡¶ï / Friday Free Clinic</p>
            <p>üìû Phone: 0132923501</p>
        </div>

        <div class="content">
            <div class="info-section">
                <h2>üè• ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶§‡¶•‡ßç‡¶Ø / Appointment Information</h2>
                <p><strong>‡¶¶‡¶ø‡¶® / Day:</strong> ‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞ / Friday</p>
                <p><strong>‡¶∏‡¶Æ‡¶Ø‡¶º / Time:</strong> ‡¶∏‡¶ï‡¶æ‡¶≤ ‡ßØ‡¶ü‡¶æ - ‡¶¶‡ßÅ‡¶™‡ßÅ‡¶∞ ‡ßß‡ß®‡¶ü‡¶æ / 9:00 AM - 12:00 PM</p>
                <p><strong>‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶∏‡ßç‡¶≤‡¶ü / Each Slot:</strong> ‡ß¨ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü / 6 minutes</p>
            </div>

            <h2 style="color: #667eea; margin-bottom: 20px;">üìÖ ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß ‡¶∏‡ßç‡¶≤‡¶ü ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® / Select Available Slot</h2>
            
            <div class="slots-container" id="slotsContainer"></div>

            <div class="booking-form" id="bookingForm">
                <h2 style="color: #667eea; margin-bottom: 20px;">üìù ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡¶® / Enter Your Details</h2>
                <div class="form-group">
                    <label>‡¶®‡¶æ‡¶Æ / Name *</label>
                    <input type="text" id="patientName" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" required>
                </div>
                <div class="form-group">
                    <label>‡¶¨‡¶Ø‡¶º‡¶∏ / Age *</label>
                    <input type="number" id="patientAge" placeholder="‡¶¨‡¶Ø‡¶º‡¶∏ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" required>
                </div>
                <div class="form-group">
                    <label>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ / Mobile Number *</label>
                    <input type="tel" id="patientPhone" placeholder="01XXXXXXXXX" required>
                </div>
                <div class="form-group">
                    <label>‡¶∞‡ßã‡¶ó‡ßÄ‡¶∞ ‡¶ß‡¶∞‡¶® / Patient Type *</label>
                    <div style="display: flex; gap: 20px; margin-top: 10px;">
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            <input type="radio" name="patientType" value="‡¶®‡¶§‡ßÅ‡¶® ‡¶∞‡ßã‡¶ó‡ßÄ / New Patient" style="width: auto; margin-right: 8px;" required>
                            ‡¶®‡¶§‡ßÅ‡¶® ‡¶∞‡ßã‡¶ó‡ßÄ / New Patient
                        </label>
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            <input type="radio" name="patientType" value="‡¶´‡¶≤‡ßã-‡¶Ü‡¶™ / Follow Up" style="width: auto; margin-right: 8px;" required>
                            ‡¶´‡¶≤‡ßã-‡¶Ü‡¶™ / Follow Up
                        </label>
                    </div>
                </div>
                <button class="btn" onclick="confirmBooking()">‡¶¨‡ßÅ‡¶ï‡¶ø‡¶Ç ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶® / Confirm Booking</button>
            </div>

            <div class="loading" id="loading">
                <p style="font-size: 18px;">‚è≥ ‡¶¨‡ßÅ‡¶ï‡¶ø‡¶Ç ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá... / Processing booking...</p>
            </div>

            <div class="success-message" id="successMessage">
                <h2>‚úÖ ‡¶¨‡ßÅ‡¶ï‡¶ø‡¶Ç ‡¶∏‡¶´‡¶≤ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! / Booking Successful!</h2>
                <p id="confirmationDetails"></p>
                <p style="margin-top: 10px;">üìß ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§‡¶ï‡¶∞‡¶£ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá / A confirmation email has been sent</p>
            </div>
        </div>
    </div>

    <script>
        // IMPORTANT: Replace this URL with your Google Apps Script Web App URL
        const GOOGLE_SCRIPT_URL = 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE';

        const totalSlots = 30;
        const startTime = 9 * 60; // 9 AM in minutes
        const slotDuration = 6; // minutes
        let selectedSlot = null;
        let bookedSlots = {};

        function generateTimeSlots() {
            const container = document.getElementById('slotsContainer');
            container.innerHTML = '';

            for (let i = 0; i < totalSlots; i++) {
                const slotTime = startTime + (i * slotDuration);
                const hours = Math.floor(slotTime / 60);
                const minutes = slotTime % 60;
                const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
                
                const slot = document.createElement('div');
                slot.className = 'slot';
                slot.dataset.slot = i;
                
                if (bookedSlots[i]) {
                    slot.classList.add('booked');
                    slot.innerHTML = `
                        <div class="slot-time">${timeString}</div>
                        <div class="slot-status">‡¶¨‡ßÅ‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶Ü‡¶õ‡ßá / Booked</div>
                    `;
                } else {
                    slot.innerHTML = `
                        <div class="slot-time">${timeString}</div>
                        <div class="slot-status">‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß / Available</div>
                    `;
                    slot.onclick = () => selectSlot(i, timeString);
                }
                
                container.appendChild(slot);
            }
        }

        function selectSlot(slotNumber, timeString) {
            if (bookedSlots[slotNumber]) return;

            selectedSlot = {
                number: slotNumber,
                time: timeString
            };

            // Update UI
            document.querySelectorAll('.slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            document.querySelector(`[data-slot="${slotNumber}"]`).classList.add('selected');

            // Show booking form
            document.getElementById('bookingForm').classList.add('active');
            document.getElementById('successMessage').classList.remove('active');
        }

        async function confirmBooking() {
            const name = document.getElementById('patientName').value.trim();
            const phone = document.getElementById('patientPhone').value.trim();
            const age = document.getElementById('patientAge').value.trim();
            const patientType = document.querySelector('input[name="patientType"]:checked');

            if (!name || !phone || !age || !patientType) {
                alert('‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶∏‡¶ï‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® / Please fill all required fields');
                return;
            }

            if (!selectedSlot) {
                alert('‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡ßç‡¶≤‡¶ü ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® / Please select a slot');
                return;
            }

            // Show loading
            document.getElementById('loading').classList.add('active');
            document.getElementById('bookingForm').classList.remove('active');

            // Prepare data for Google Sheets
            const bookingData = {
                timestamp: new Date().toLocaleString('en-GB', { timeZone: 'Asia/Dhaka' }),
                name: name,
                age: age,
                mobile: phone,
                patientType: patientType.value,
                appointmentTime: selectedSlot.time,
                appointmentDay: '‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞ / Friday',
                slotNumber: selectedSlot.number + 1
            };

            try {
                // Send to Google Sheets
                const response = await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(bookingData)
                });

                // Book the slot locally
                bookedSlots[selectedSlot.number] = bookingData;

                // Hide loading
                document.getElementById('loading').classList.remove('active');

                // Show success message
                const successMsg = document.getElementById('successMessage');
                const detailsMsg = document.getElementById('confirmationDetails');
                detailsMsg.innerHTML = `
                    <strong>‡¶®‡¶æ‡¶Æ / Name:</strong> ${name}<br>
                    <strong>‡¶¨‡¶Ø‡¶º‡¶∏ / Age:</strong> ${age}<br>
                    <strong>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ / Mobile:</strong> ${phone}<br>
                    <strong>‡¶∞‡ßã‡¶ó‡ßÄ‡¶∞ ‡¶ß‡¶∞‡¶® / Patient Type:</strong> ${patientType.value}<br>
                    <strong>‡¶∏‡¶Æ‡¶Ø‡¶º / Time:</strong> ${selectedSlot.time}<br>
                    <strong>‡¶¶‡¶ø‡¶® / Day:</strong> ‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞ / Friday
                `;
                successMsg.classList.add('active');

                // Reset form
                document.getElementById('patientName').value = '';
                document.getElementById('patientPhone').value = '';
                document.getElementById('patientAge').value = '';
                document.querySelectorAll('input[name="patientType"]').forEach(radio => radio.checked = false);

                // Regenerate slots
                selectedSlot = null;
                generateTimeSlots();

            } catch (error) {
                console.error('Booking error:', error);
                document.getElementById('loading').classList.remove('active');
                alert('‡¶¨‡ßÅ‡¶ï‡¶ø‡¶Ç ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® / Booking failed. Please try again.');
                document.getElementById('bookingForm').classList.add('active');
            }
        }

        // Initialize
        generateTimeSlots();
    </script>
</body>
</html>